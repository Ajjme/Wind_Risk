Script starting...
Waiting for Jupyter Lab server to open port 6054...
TIMING - Starting wait at: Thu Aug 22 12:01:52 PM EDT 2024
++ date
+ echo 'TIMING - Starting main script at: Thu Aug 22 12:01:52 PM EDT 2024'
TIMING - Starting main script at: Thu Aug 22 12:01:52 PM EDT 2024
+ '[' -n '' ']'
+ '[' -z /tmp ']'
+ '[' /tmp == /tmp ']'
++ mktemp -d
+ TMPDIR=/tmp/tmp.DrwnX8ncpA
+ export TMPDIR
+ cd /hpc/home/ajj54
+ export GROUPDIR=/hpc/group/borsuklab
+ GROUPDIR=/hpc/group/borsuklab
+ echo 'GROUPDIR is /hpc/group/borsuklab'
GROUPDIR is /hpc/group/borsuklab
+ BPath=/tmp/tmp.DrwnX8ncpA:/tmp
+ BPath+=,/work:/work
+ BPath+=,/hpc/group/borsuklab:/hpc/group/borsuklab
+ BPath+=,/opt/apps/models:/opt/apps/models
+ echo /tmp/tmp.DrwnX8ncpA:/tmp,/work:/work,/hpc/group/borsuklab:/hpc/group/borsuklab,/opt/apps/models:/opt/apps/models
/tmp/tmp.DrwnX8ncpA:/tmp,/work:/work,/hpc/group/borsuklab:/hpc/group/borsuklab,/opt/apps/models:/opt/apps/models
++ date
+ echo 'TIMING - Starting jupyter at: Thu Aug 22 12:01:52 PM EDT 2024'
TIMING - Starting jupyter at: Thu Aug 22 12:01:52 PM EDT 2024
+ '[' no == no ']'
+ singularity -vvv exec --bind=/tmp/tmp.DrwnX8ncpA:/tmp,/work:/work,/hpc/group/borsuklab:/hpc/group/borsuklab,/opt/apps/models:/opt/apps/models /opt/apps/containers/community/codeplus2023/codeplus-2023.sif jupyter lab --config=/hpc/home/ajj54/ondemand/data/sys/dashboard/batch_connect/sys/bc_jupyter_codeplus2023/output/9907347e-709c-453a-89f4-43e702daac42/config.py
VERBOSE: Not forwarding APPTAINER_VERBOSE environment variable
VERBOSE: Setting HOME=/hpc/home/ajj54
VERBOSE: Setting PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
VERBOSE: Set messagelevel to: 4
VERBOSE: Starter initialization
VERBOSE: Check if we are running as setuid: 1
VERBOSE: Drop root privileges
VERBOSE: Drop root privileges permanently
VERBOSE: Spawn stage 1
VERBOSE: Execute stage 1
VERBOSE: stage 1 exited with status 0
VERBOSE: Get root privileges
VERBOSE: Change filesystem uid to 1546375
VERBOSE: Spawn master process
VERBOSE: Create mount namespace
VERBOSE: Entering in mount namespace
VERBOSE: Create mount namespace
VERBOSE: Spawn RPC server
VERBOSE: Execute master process
VERBOSE: Serve RPC requests
VERBOSE: Default mount: /proc:/proc
VERBOSE: Default mount: /sys:/sys
VERBOSE: Default mount: /dev:/dev
VERBOSE: Found 'bind path' = /etc/localtime, /etc/localtime
VERBOSE: Found 'bind path' = /etc/hosts, /etc/hosts
VERBOSE: Default mount: /tmp:/tmp
VERBOSE: Default mount: /var/tmp:/var/tmp
VERBOSE: Default mount: /etc/resolv.conf:/etc/resolv.conf
VERBOSE: Checking for template passwd file: /var/apptainer/mnt/session/rootfs/etc/passwd
VERBOSE: Creating passwd content
VERBOSE: Creating template passwd file and appending user data: /var/apptainer/mnt/session/rootfs/etc/passwd
VERBOSE: Default mount: /etc/passwd:/etc/passwd
VERBOSE: Checking for template group file: /var/apptainer/mnt/session/rootfs/etc/group
VERBOSE: Creating group content
VERBOSE: Default mount: /etc/group:/etc/group
VERBOSE: /hpc/home/ajj54 found within container
VERBOSE: rpc server exited with status 0
VERBOSE: Execute stage 2
[W 2024-08-22 12:01:59.127 ServerApp] jupyter_server_terminals | error adding extension (enabled: True): Jupyter Server Terminals requires Jupyter Server 2.0+
    Traceback (most recent call last):
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/extension/manager.py", line 320, in add_extension
        extpkg = ExtensionPackage(name=extension_name, enabled=enabled)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/extension/manager.py", line 166, in __init__
        super().__init__(*args, **kwargs)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/traitlets/traitlets.py", line 1361, in __init__
        value = self._traits[key]._cross_validate(self, getattr(self, key))
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/traitlets/traitlets.py", line 746, in _cross_validate
        value = obj._trait_validators[self.name](obj, proposal)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/traitlets/traitlets.py", line 1233, in __call__
        return self.func(*args, **kwargs)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/extension/manager.py", line 175, in _validate_name
        self._module, self._metadata = get_metadata(name)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/extension/utils.py", line 60, in get_metadata
        module = importlib.import_module(package_name)
      File "/opt/conda/envs/rapids/lib/python3.10/importlib/__init__.py", line 126, in import_module
        return _bootstrap._gcd_import(name[level:], package, level)
      File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
      File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
      File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
      File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
      File "<frozen importlib._bootstrap_external>", line 883, in exec_module
      File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server_terminals/__init__.py", line 9, in <module>
        raise RuntimeError("Jupyter Server Terminals requires Jupyter Server 2.0+")
    RuntimeError: Jupyter Server Terminals requires Jupyter Server 2.0+
[I 2024-08-22 12:02:02.805 ServerApp] dask_labextension | extension was successfully linked.
[I 2024-08-22 12:02:02.811 ServerApp] jupyter_server_fileid | extension was successfully linked.
[I 2024-08-22 12:02:02.811 ServerApp] jupyter_server_proxy | extension was successfully linked.
[I 2024-08-22 12:02:02.816 ServerApp] jupyter_server_ydoc | extension was successfully linked.
[W 2024-08-22 12:02:02.818 LabApp] 'ip' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.818 LabApp] 'port' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.818 LabApp] 'port_retries' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.818 LabApp] 'password' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.818 LabApp] 'base_url' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.818 LabApp] 'base_url' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.818 LabApp] 'allow_origin' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.818 LabApp] 'notebook_dir' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.819 LabApp] 'disable_check_xsrf' has moved from NotebookApp to ServerApp. This config will be passed to ServerApp. Be sure to update your config before our next release.
[W 2024-08-22 12:02:02.822 ServerApp] notebook_dir is deprecated, use root_dir
[I 2024-08-22 12:02:02.822 ServerApp] jupyterlab | extension was successfully linked.
[I 2024-08-22 12:02:02.827 ServerApp] nbclassic | extension was successfully linked.
[I 2024-08-22 12:02:02.839 ServerApp] Writing Jupyter server cookie secret to /hpc/home/ajj54/.local/share/jupyter/runtime/jupyter_cookie_secret
[I 2024-08-22 12:02:02.852 ServerApp] notebook_shim | extension was successfully linked.
[I 2024-08-22 12:02:02.852 ServerApp] panel.io.jupyter_server_extension | extension was successfully linked.
[I 2024-08-22 12:02:02.852 ServerApp] voila.server_extension | extension was successfully linked.
[W 2024-08-22 12:02:02.884 ServerApp] WARNING: The Jupyter server is listening on all IP addresses and not using encryption. This is not recommended.
[I 2024-08-22 12:02:02.886 ServerApp] notebook_shim | extension was successfully loaded.
[I 2024-08-22 12:02:02.887 ServerApp] dask_labextension | extension was successfully loaded.
[I 2024-08-22 12:02:02.887 FileIdExtension] Configured File ID manager: ArbitraryFileIdManager
[I 2024-08-22 12:02:02.887 FileIdExtension] ArbitraryFileIdManager : Configured root dir: /hpc/home/ajj54
[I 2024-08-22 12:02:02.887 FileIdExtension] ArbitraryFileIdManager : Configured database path: /hpc/home/ajj54/.local/share/jupyter/file_id_manager.db
[I 2024-08-22 12:02:02.912 FileIdExtension] ArbitraryFileIdManager : Successfully connected to database file.
[I 2024-08-22 12:02:02.912 FileIdExtension] ArbitraryFileIdManager : Creating File ID tables and indices with journal_mode = DELETE
[I 2024-08-22 12:02:02.955 ServerApp] jupyter_server_fileid | extension was successfully loaded.
[I 2024-08-22 12:02:03.459 ServerApp] jupyter_server_proxy | extension was successfully loaded.
[I 2024-08-22 12:02:03.460 ServerApp] jupyter_server_ydoc | extension was successfully loaded.
[I 2024-08-22 12:02:03.461 LabApp] JupyterLab extension loaded from /opt/conda/envs/rapids/lib/python3.10/site-packages/jupyterlab
[I 2024-08-22 12:02:03.462 LabApp] JupyterLab application directory is /opt/conda/envs/rapids/share/jupyter/lab
[I 2024-08-22 12:02:03.468 ServerApp] jupyterlab | extension was successfully loaded.
[I 2024-08-22 12:02:03.478 ServerApp] nbclassic | extension was successfully loaded.
[I 2024-08-22 12:02:03.479 ServerApp] panel.io.jupyter_server_extension | extension was successfully loaded.
[I 2024-08-22 12:02:03.486 ServerApp] voila.server_extension | extension was successfully loaded.
[I 2024-08-22 12:02:03.488 ServerApp] Serving notebooks from local directory: /hpc/home/ajj54
[I 2024-08-22 12:02:03.489 ServerApp] Jupyter Server 1.23.6 is running at:
[I 2024-08-22 12:02:03.489 ServerApp] http://localhost:6054/node/dcc-core-01/6054/lab
[I 2024-08-22 12:02:03.489 ServerApp]  or http://127.0.0.1:6054/node/dcc-core-01/6054/lab
[I 2024-08-22 12:02:03.489 ServerApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
[W 2024-08-22 12:02:03.501 ServerApp] No web browser found: could not locate runnable browser.
Discovered Jupyter Lab server listening on port 6054!
TIMING - Wait ended at: Thu Aug 22 12:02:03 PM EDT 2024
Generating connection YAML file...
[I 2024-08-22 12:02:13.280 ServerApp] 302 POST /node/dcc-core-01/6054/login (10.183.18.196) 2.35ms
[W 2024-08-22 12:02:14.943 ServerApp] 404 GET /node/dcc-core-01/6054/api/me?1724342533981 (10.183.18.196) 416.96ms referer=https://dcc-ondemand-01.oit.duke.edu/node/dcc-core-01/6054/lab?
WARNING:bokeh.server.util:Host wildcard '*' will allow connections originating from multiple (or possibly all) hostnames or IPs. Use non-wildcard values to restrict access explicitly
[I 2024-08-22 12:02:18.480 LabApp] Build is up to date
[I 2024-08-22 12:02:33.403 ServerApp] Creating new notebook in 
[I 2024-08-22 12:02:33.605 ServerApp] Writing notebook-signing key to /hpc/home/ajj54/.local/share/jupyter/notebook_secret
[I 2024-08-22 12:02:34.301 ServerApp] Kernel started: 23e7a0af-72ba-4ea5-a9e6-6c7527242566
[I 2024-08-22 12:03:24.423 ServerApp] Saving file at /Untitled.ipynb
2024-08-22 12:03:24,512 - ServerApp - ERROR - Uncaught exception POST /node/dcc-core-01/6054/api/contents/Untitled.ipynb/checkpoints?1724342603939 (10.183.18.196)
HTTPServerRequest(protocol='http', host='dcc-core-01:6054', method='POST', uri='/node/dcc-core-01/6054/api/contents/Untitled.ipynb/checkpoints?1724342603939', version='HTTP/1.1', remote_ip='10.183.18.196')
Traceback (most recent call last):
  File "/opt/conda/envs/rapids/lib/python3.10/site-packages/tornado/web.py", line 1713, in _execute
    result = await result
  File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/handlers.py", line 295, in post
    checkpoint = await ensure_async(cm.create_checkpoint(path))
  File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/manager.py", line 711, in create_checkpoint
    return self.checkpoints.create_checkpoint(self, path)
  File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/filecheckpoints.py", line 57, in create_checkpoint
    self._copy(src_path, dest_path)
  File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/fileio.py", line 237, in _copy
    copy2_safe(src, dest, log=self.log)
  File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/fileio.py", line 37, in copy2_safe
    shutil.copyfile(src, dst)
  File "/opt/conda/envs/rapids/lib/python3.10/shutil.py", line 254, in copyfile
    with open(src, 'rb') as fsrc:
FileNotFoundError: [Errno 2] No such file or directory: '/hpc/home/ajj54/Untitled.ipynb'
[E 2024-08-22 12:03:24.512 ServerApp] Uncaught exception POST /node/dcc-core-01/6054/api/contents/Untitled.ipynb/checkpoints?1724342603939 (10.183.18.196)
    HTTPServerRequest(protocol='http', host='dcc-core-01:6054', method='POST', uri='/node/dcc-core-01/6054/api/contents/Untitled.ipynb/checkpoints?1724342603939', version='HTTP/1.1', remote_ip='10.183.18.196')
    Traceback (most recent call last):
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/tornado/web.py", line 1713, in _execute
        result = await result
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/handlers.py", line 295, in post
        checkpoint = await ensure_async(cm.create_checkpoint(path))
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/manager.py", line 711, in create_checkpoint
        return self.checkpoints.create_checkpoint(self, path)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/filecheckpoints.py", line 57, in create_checkpoint
        self._copy(src_path, dest_path)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/fileio.py", line 237, in _copy
        copy2_safe(src, dest, log=self.log)
      File "/opt/conda/envs/rapids/lib/python3.10/site-packages/jupyter_server/services/contents/fileio.py", line 37, in copy2_safe
        shutil.copyfile(src, dst)
      File "/opt/conda/envs/rapids/lib/python3.10/shutil.py", line 254, in copyfile
        with open(src, 'rb') as fsrc:
    FileNotFoundError: [Errno 2] No such file or directory: '/hpc/home/ajj54/Untitled.ipynb'
[W 2024-08-22 12:03:24.585 ServerApp] wrote error: 'Unhandled error'
[E 2024-08-22 12:03:24.586 ServerApp] {
      "Host": "dcc-core-01:6054",
      "Accept": "*/*",
      "Referer": "https://dcc-ondemand-01.oit.duke.edu/node/dcc-core-01/6054/lab/tree/Untitled.ipynb",
      "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36"
    }
[E 2024-08-22 12:03:24.586 ServerApp] 500 POST /node/dcc-core-01/6054/api/contents/Untitled.ipynb/checkpoints?1724342603939 (10.183.18.196) 86.17ms referer=https://dcc-ondemand-01.oit.duke.edu/node/dcc-core-01/6054/lab/tree/Untitled.ipynb
[I 2024-08-22 12:05:25.419 ServerApp] Saving file at /Test.ipynb
[I 2024-08-22 12:09:26.396 ServerApp] Saving file at /Test.ipynb
slurmstepd: error: *** JOB 14869378 ON dcc-core-01 CANCELLED AT 2024-08-22T12:18:01 ***
